<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Hacclustermapviewcontroller : HACClusterMapViewController class is written in Objective-C and facilitates the use of maps when they have many pins that show.">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Hacclustermapviewcontroller</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/litoarias/HACClusterMapViewController">View on GitHub</a>

          <h1 id="project_title">Hacclustermapviewcontroller</h1>
          <h2 id="project_tagline">HACClusterMapViewController class is written in Objective-C and facilitates the use of maps when they have many pins that show.</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/litoarias/HACClusterMapViewController/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/litoarias/HACClusterMapViewController/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a id="hacclustermapviewcontroller" class="anchor" href="#hacclustermapviewcontroller" aria-hidden="true"><span class="octicon octicon-link"></span></a>HACClusterMapViewController</h1>

<p><img src="https://img.shields.io/twitter/url/https/github.com/litoarias/HACClusterMapViewController.svg?style=social"><br>
HACClusterMapViewController class is written in Objective-C and facilitates the use of maps when they have many pins that show.
Will require us to come up with an ultra quick data structure built for the task. We will need to build it in C for it to be performant.
This version 2.2 has been derived from the original authors version 2.0 , adding more flexibility in the delegates and the display of the annotations as well as correcting some issues.</p>

<p><img src="https://img.shields.io/github/issues/litoarias/HACClusterMapViewController.svg?style=flat-square">
<img src="https://img.shields.io/badge/license-MIT-blue.svg?style=flat-square">
<img src="https://img.shields.io/cocoapods/v/HACClusterMapViewController.svg?style=flat-square">
<img src="https://img.shields.io/npm/dm/HACClusterMapViewController.svg?style=flat-square"></p>

<p><img src="https://github.com/litoarias/HACClusterMapViewController/blob/master/ExampleApp/hacclusterviewcontroller.gif" alt="Preview"></p>

<h2>
<a id="requirements-and-dependencies" class="anchor" href="#requirements-and-dependencies" aria-hidden="true"><span class="octicon octicon-link"></span></a>Requirements and Dependencies</h2>

<ul>
<li>iOS &gt;= 7.0</li>
<li>ARC enabled</li>
<li>CoreLocation Framework</li>
<li>MKMapKit Framework</li>
</ul>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h2>

<h4>
<a id="cocoapods" class="anchor" href="#cocoapods" aria-hidden="true"><span class="octicon octicon-link"></span></a>CocoaPods:</h4>

<pre><code>pod 'HACClusterMapViewController'
</code></pre>

<h4>
<a id="manual-install" class="anchor" href="#manual-install" aria-hidden="true"><span class="octicon octicon-link"></span></a>Manual install:</h4>

<ul>
<li>Copy <code>HACQuadTree.h</code> <code>HACQuadTree.m</code> <code>HACManagerQuadTree.h</code> <code>HACManagerQuadTree.m</code> <code>HAClusterAnnotation.h</code> <code>HAClusterAnnotation.m</code> <code>HAClusterAnnotationView.h</code> <code>HAClusterAnnotationView.m</code> and <code>HACMKMapView.h</code> <code>HACMKMapView.m</code> to your project</li>
<li>Manual install <a href="https://github.com/litoarias/HACClusterMapViewController/#manual-install">HACClusterMapViewController</a>
</li>
</ul>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h2>

<p>Import in your .h HACMKMapView</p>

<div class="highlight highlight-source-objc"><pre>#<span class="pl-k">import</span> <span class="pl-s"><span class="pl-pds">"</span>HACMKMapView.h<span class="pl-pds">"</span></span></pre></div>

<h4>
<a id="map-iboutlet" class="anchor" href="#map-iboutlet" aria-hidden="true"><span class="octicon octicon-link"></span></a>Map <code>IBOutlet</code>
</h4>

<p>For using Interface Builder, set class in your MKMapView <code>HACMKMapView</code> and make <code>IBOutlet</code> of your map, and put name to IBOutlet for example <code>mapView</code>.</p>

<h4>
<a id="delegate-for-using-methods" class="anchor" href="#delegate-for-using-methods" aria-hidden="true"><span class="octicon octicon-link"></span></a>Delegate for using methods</h4>

<div class="highlight highlight-source-objc"><pre><span class="pl-k">@interface</span> <span class="pl-en">MapViewController</span> () &lt;HACMKMapViewDelegate&gt;
- (<span class="pl-k">void</span>)<span class="pl-en">viewDidLoad</span> {
    [<span class="pl-v">super</span> <span class="pl-c1">viewDidLoad</span>];
    self.<span class="pl-smi">mapView</span>.<span class="pl-smi">mapDelegate</span> = self;
}</pre></div>

<h4>
<a id="creat-tree-struct" class="anchor" href="#creat-tree-struct" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creat tree struct</h4>

<p>It is easy to use , you must create the following structure in a loop.</p>

<div class="highlight highlight-source-objc"><pre>
 <span class="pl-c1">NSArray</span> *data = @[
                      @{<span class="pl-c1">kLatitude</span>:@<span class="pl-c1">48.47352</span>, <span class="pl-c1">kLongitude</span>:@<span class="pl-c1">3.87426</span>,  <span class="pl-c1">kTitle</span> : <span class="pl-s"><span class="pl-pds">@"</span>Title 1<span class="pl-pds">"</span></span>, <span class="pl-c1">kSubtitle</span> : <span class="pl-s"><span class="pl-pds">@"</span><span class="pl-pds">"</span></span>,            <span class="pl-c1">kIndex</span> : @<span class="pl-c1">0</span>},
                      @{<span class="pl-c1">kLatitude</span>:@<span class="pl-c1">52.59758</span>, <span class="pl-c1">kLongitude</span>:@-<span class="pl-c1">1.93061</span>, <span class="pl-c1">kTitle</span> : <span class="pl-s"><span class="pl-pds">@"</span>Title 2<span class="pl-pds">"</span></span>, <span class="pl-c1">kSubtitle</span> : <span class="pl-s"><span class="pl-pds">@"</span>Subtitle 2<span class="pl-pds">"</span></span>,  <span class="pl-c1">kIndex</span> : @<span class="pl-c1">1</span>},
                      @{<span class="pl-c1">kLatitude</span>:@<span class="pl-c1">48.41370</span>, <span class="pl-c1">kLongitude</span>:@<span class="pl-c1">3.43531</span>,  <span class="pl-c1">kTitle</span> : <span class="pl-s"><span class="pl-pds">@"</span>Title 3<span class="pl-pds">"</span></span>, <span class="pl-c1">kSubtitle</span> : <span class="pl-s"><span class="pl-pds">@"</span>Subtitle 3<span class="pl-pds">"</span></span>,  <span class="pl-c1">kIndex</span> : @<span class="pl-c1">2</span>},
                      @{<span class="pl-c1">kLatitude</span>:@<span class="pl-c1">48.31921</span>, <span class="pl-c1">kLongitude</span>:@<span class="pl-c1">18.10184</span>, <span class="pl-c1">kTitle</span> : <span class="pl-s"><span class="pl-pds">@"</span>Title 4<span class="pl-pds">"</span></span>, <span class="pl-c1">kSubtitle</span> : <span class="pl-s"><span class="pl-pds">@"</span>Subtitle 4<span class="pl-pds">"</span></span>,  <span class="pl-c1">kIndex</span> : @<span class="pl-c1">3</span>},
                      @{<span class="pl-c1">kLatitude</span>:@<span class="pl-c1">47.84302</span>, <span class="pl-c1">kLongitude</span>:@<span class="pl-c1">22.81101</span>, <span class="pl-c1">kTitle</span> : <span class="pl-s"><span class="pl-pds">@"</span>Title 5<span class="pl-pds">"</span></span>, <span class="pl-c1">kSubtitle</span> : <span class="pl-s"><span class="pl-pds">@"</span>Subtitle 5<span class="pl-pds">"</span></span>,  <span class="pl-c1">kIndex</span> : @<span class="pl-c1">4</span>},
                      @{<span class="pl-c1">kLatitude</span>:@<span class="pl-c1">60.88622</span>, <span class="pl-c1">kLongitude</span>:@<span class="pl-c1">26.83792</span>, <span class="pl-c1">kTitle</span> : <span class="pl-s"><span class="pl-pds">@"</span>Title 6<span class="pl-pds">"</span></span>, <span class="pl-c1">kSubtitle</span> : <span class="pl-s"><span class="pl-pds">@"</span><span class="pl-pds">"</span></span>          ,  <span class="pl-c1">kIndex</span> : @<span class="pl-c1">5</span>}
                      ];
</pre></div>

<h4>
<a id="we-send-build" class="anchor" href="#we-send-build" aria-hidden="true"><span class="octicon octicon-link"></span></a>We send build</h4>

<p>The last step would be to call the driver father and pass the array as a parameter to start the process</p>

<div class="highlight highlight-source-objc"><pre> [<span class="pl-v">self</span>.mapView.coordinateQuadTree <span class="pl-c1">buildTreeWithArray:</span>data];</pre></div>

<h4>
<a id="delegate-methods" class="anchor" href="#delegate-methods" aria-hidden="true"><span class="octicon octicon-link"></span></a>Delegate methods</h4>

<p>With delegate methods we can set custom images of annotations or know what index of object be reference.</p>

<div class="highlight highlight-source-objc"><pre>
-(<span class="pl-k">void</span>)viewForAnnotationView:(HAClusterAnnotationView *)annotationView annotation:(HAClusterAnnotation *)annotation{
    <span class="pl-k">if</span> (annotation.<span class="pl-smi">index</span> % <span class="pl-c1">2</span> == <span class="pl-c1">0</span>) {
        annotationView.<span class="pl-smi">image</span> = [UIImage <span class="pl-c1">imageNamed:</span><span class="pl-s"><span class="pl-pds">@"</span>pin_museum<span class="pl-pds">"</span></span>];
    }<span class="pl-k">else</span>{
        annotationView.<span class="pl-smi">image</span> = [UIImage <span class="pl-c1">imageNamed:</span><span class="pl-s"><span class="pl-pds">@"</span>pin_coffee<span class="pl-pds">"</span></span>];
    }
}

-(<span class="pl-k">void</span>)didSelectAnnotationView:(HAClusterAnnotation *)annotation{
    <span class="pl-c1">NSLog</span>(<span class="pl-s"><span class="pl-pds">@"</span>You ara select annotation index <span class="pl-c1">%ld</span><span class="pl-pds">"</span></span>, (<span class="pl-k">long</span>)annotation.<span class="pl-smi">index</span>);
}
</pre></div>

<h4>
<a id="customize" class="anchor" href="#customize" aria-hidden="true"><span class="octicon octicon-link"></span></a>Customize</h4>

<h3>
<a id="programmatically" class="anchor" href="#programmatically" aria-hidden="true"><span class="octicon octicon-link"></span></a>Programmatically</h3>

<div class="highlight highlight-source-objc"><pre>    self.mapView.backgroundAnnotation = [UIColor <span class="pl-c1">redColor</span>];
    self.mapView.borderAnnotation = [UIColor <span class="pl-c1">whiteColor</span>];
    self.mapView.textAnnotation = [UIColor <span class="pl-c1">whiteColor</span>];
    self.mapView.compassFrame = CGRectMake(<span class="pl-c1">10</span>, <span class="pl-c1">10</span>, <span class="pl-c1">25</span>, <span class="pl-c1">25</span>);
    self.mapView.legalFrame = CGRectMake(CGRectGetWidth([UIScreen <span class="pl-c1">mainScreen</span>].bounds)-<span class="pl-c1">50</span>, CGRectGetHeight([UIScreen <span class="pl-c1">mainScreen</span>].bounds)-<span class="pl-c1">50</span>, <span class="pl-c1">50</span>, <span class="pl-c1">50</span>);</pre></div>

<h3>
<a id="interface-builder" class="anchor" href="#interface-builder" aria-hidden="true"><span class="octicon octicon-link"></span></a>Interface Builder</h3>

<p><img src="https://github.com/litoarias/HACClusterMapViewController/blob/master/ExampleApp/IBInspectable.png" alt="Preview"></p>

<p>Enjoy :D</p>

<h2>
<a id="contributing" class="anchor" href="#contributing" aria-hidden="true"><span class="octicon octicon-link"></span></a>Contributing</h2>

<ol>
<li>Fork it ( <a href="https://github.com/%5Bmy-github-username%5D/HACClusterMapViewController/fork">https://github.com/[my-github-username]/HACClusterMapViewController/fork</a> )</li>
<li>Create your feature branch (<code>git checkout -b my-new-feature</code>)</li>
<li>Commit your changes (<code>git commit -am 'Add some feature'</code>)</li>
<li>Push to the branch (<code>git push origin my-new-feature</code>)</li>
<li>Create a new Pull Request</li>
</ol>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Hacclustermapviewcontroller maintained by <a href="https://github.com/litoarias">litoarias</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-71883582-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>


  </body>
</html>
